/*
 Hype Action Events 1.0.0
copyright (c) 2021 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeActionEvents"in window&&(window.HypeActionEvents=function(){function f(a){return a?p[a]:p}function r(a,g,k,d,e,b){if(-1!=f("MatterEvents").indexOf(e))Matter.Events.on(d,e,function(h){for(var c=h.pairs,l=0;l<c.length;l++){var n=document.getElementById(h.pairs[l].bodyA.elementId),m=document.getElementById(h.pairs[l].bodyB.elementId),q=n.getAttribute("data-"+b+"-action");q&&a.triggerAction(q,{element:n,event:Object.assign({type:h.name},h)});(q=m.getAttribute("data-"+b+"-action"))&&a.triggerAction(q,
{element:m,event:Object.assign({type:h.name},h)})}})}var p={debug:!1,StrictMode:!1,ContextCustomData:!0,ContextHypeFunctions:!0,ContextHypeDocument:!0,ContextSymbolInstance:!0,ContextBindHypeFunctions:!0,MatterEvents:["collisionStart","collisionEnd","collisionActive"],MouseEvents:"mousedown mouseup click dblclick mouseover mousewheel mouseout contextmenu mousemove".split(" "),TouchEvents:["touchstart","touchmove","touchend","touchcancel"],KeyboardEvents:["keydown","keypress","keyup"],FormEvents:["focus",
"blur","change","submit"]};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,g,k){a.getSymbolInstance=function(e){for(var b=null;null==b&&null!=e;)b=a.getSymbolInstanceById(e.id),e=e.parentNode;return b};a.triggerAction=function(e,b){if(e){b=b||{};b=Object.assign({symbolInstance:a.getSymbolInstance(b.element),element:document.getElementById(a.currentSceneId()),event:{}},b);var h=b.strictMode||f("StrictMode");
if(!h){var c={};f("ContextCustomData")&&(c=Object.assign(c,a.customData));f("ContextHypeDocument")&&(c=Object.assign(c,a));f("ContextSymbolInstance")&&(c=Object.assign(c,b.symbolInstance));if(f("ContextHypeFunctions")){var l={},n=Object.keys(a.functions());n&&n.forEach(function(m){l[m]=function(){a.functions()[m](a,b.element,b.event)}});c=Object.assign(c,l)}}try{return Function("$context","$hype","$symbol","$elm","$event",c?"with($context){"+e+"}":h?'"use strict";'+e:e)(c,a,b.symbolInstance,b.element,
b.event)}catch(m){(f("debug")||-1!=window.location.href.indexOf("127.0.0.1:")&&-1!=window.location.href.indexOf("/preview/"))&&alert((b.errorMsg||"Hype Action Events Error")+(b.omitError?"":": "+m)+"\n\n"+e)}}};g=Array.prototype.concat.apply([],[f("MouseEvents"),f("TouchEvents"),f("KeyboardEvents"),f("FormEvents")]);var d=document.getElementById(a.documentId());g.filter(function(e){d.addEventListener(e,function(b){var h=b.target,c=b.type;h&&c&&(c=h.getAttribute("data-"+c+"-action"))&&a.triggerAction(c,
{element:h,event:b})})})}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,g,k){if(Matter&&f("MatterEvents")&&f("MatterEvents").length){var d=document.getElementById(a.documentId());d=a.getElementProperty(d,"physics-engine");r(a,g,k,d,"collisionStart","collision-start");r(a,g,k,d,"collisionActive","collision-active");r(a,g,k,d,"collisionEnd","collision-end")}}});window.HYPE_eventListeners.push({type:"HypeSymbolLoad",callback:function(a,g,k){var d=a.getSymbolInstanceById(g.id);
if("function"==typeof a.functions()[d.symbolName()])a.functions()[d.symbolName()](a,g,k)}});window.HYPE_eventListeners.push({type:"HypeTriggerCustomBehavior",callback:function(a,g,k){var d=k.customBehaviorName;/[;=()]/.test(d)&&a.triggerAction(d,{element:g,event:k})}});return{version:"1.0.0",getDefault:f,setDefault:function(a,g){"object"==typeof a?p=a:p[a]=g}}}());
