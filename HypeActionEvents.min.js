/*
 Hype Action Events 1.0.1
copyright (c) 2021 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeActionEvents"in window&&(window.HypeActionEvents=function(){function l(a){return a?r[a]:r}function t(a,h,m,e,f,b){if(-1!=l("MatterEvents").indexOf(f))Matter.Events.on(e,f,function(g){for(var k=g.pairs,n=0;n<k.length;n++){var q=document.getElementById(g.pairs[n].bodyA.elementId),c=document.getElementById(g.pairs[n].bodyB.elementId),d=q.getAttribute("data-"+b+"-action");d&&a.triggerAction(d,{element:q,event:Object.assign({type:g.name},g)});(d=c.getAttribute("data-"+b+"-action"))&&a.triggerAction(d,
{element:c,event:Object.assign({type:g.name},g)})}})}var r={debug:!1,LegacyMode:!1,StrictMode:!1,ContextCustomData:!0,ContextHypeFunctions:!0,ContextHypeDocument:!0,ContextSymbolInstance:!0,ContextBindHypeFunctions:!0,MatterEvents:["collisionStart","collisionEnd","collisionActive"],MouseEvents:"mousedown mouseup click dblclick mouseover mousewheel mouseout contextmenu mousemove".split(" "),TouchEvents:["touchstart","touchmove","touchend","touchcancel"],KeyboardEvents:["keydown","keypress","keyup"],
FormEvents:["focus","blur","change","submit"]};!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,h,m){var e=document.getElementById(a.documentId());Array.prototype.concat.apply([],[l("MouseEvents"),l("TouchEvents"),l("KeyboardEvents"),l("FormEvents")]).filter(function(f){e.addEventListener(f,function(b){var g=b.target,k=b.type;g&&k&&(k=g.getAttribute("data-"+k+"-action"))&&a.triggerAction(k,{element:g,
event:b})})});a.getSymbolInstance=function(f){for(var b=null;null==b&&null!=f;)b=a.getSymbolInstanceById(f.id),f=f.parentNode;return b};a.triggerAction=function(f,b){if(f){b=b||{};b=Object.assign({symbolInstance:a.getSymbolInstance(b.element),element:document.getElementById(a.currentSceneId()),event:{}},b);var g=b.strictMode||l("StrictMode");if(!g){var k=Object.assign({},a,b.symbolInstance);if(l("LegacyMode")){var n={},q=a.functions();Object.keys(q).forEach(function(c){n[c]=q[c].bind(a,a,b.element,
b.event)});k=Object.assign(k,n)}else k=new Proxy(k,{set:function(c,d,p,u){return Reflect.get(c,d,u)?Reflect.set(c,d,p,u):Reflect.set(a.customData,d,p)},get:function(c,d,p){return(c=Reflect.get(c,d,p))?c:(c=Reflect.get(a.functions(),d))?c.bind(a,a,b.element,b.event):Reflect.get(a.customData,d)},has:function(c,d,p){return c.hasOwnProperty(d)||window[d]?Reflect.has(c,d,p):!0}})}try{return Function("$ctx","$doc","$sym","$elm","$evt",k?"with($ctx){"+f+"}":g?'"use strict";'+f:f)(k,a,b.symbolInstance,b.element,
b.event)}catch(c){(l("debug")||-1!=window.location.href.indexOf("127.0.0.1:")&&-1!=window.location.href.indexOf("/preview/"))&&console.log((b.errorMsg||"Hype Action Events Error")+(b.omitError?"":": "+c)+"\n\n"+f)}}};"function"==typeof a.functions().HypeActionEvents&&a.functions().HypeActionEvents(a,h,m)}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,h,m){if(0!="Matter"in window&&l("MatterEvents")&&l("MatterEvents").length){var e=document.getElementById(a.documentId());
e=a.getElementProperty(e,"physics-engine");t(a,h,m,e,"collisionStart","collision-start");t(a,h,m,e,"collisionActive","collision-active");t(a,h,m,e,"collisionEnd","collision-end")}}});window.HYPE_eventListeners.push({type:"HypeSymbolLoad",callback:function(a,h,m){var e=a.getSymbolInstanceById(h.id);if("function"==typeof a.functions()[e.symbolName()])a.functions()[e.symbolName()](a,h,m)}});window.HYPE_eventListeners.push({type:"HypeTriggerCustomBehavior",callback:function(a,h,m){var e=m.customBehaviorName;
/[;=()]/.test(e)&&a.triggerAction(e,{element:h,event:m})}});return{version:"1.0.1",getDefault:l,setDefault:function(a,h){"object"==typeof a?r=a:r[a]=h}}}());
